"use strict";

var enc = encodeURIComponent;

module.exports = function (query) {
  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return Object.keys(params).reduce((qs, param) => `${qs}&${enc(`$${param}`)}=${enc(JSON.stringify(params[param]))}`, `?query=${enc(query)}`);
};